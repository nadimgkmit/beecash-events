{"ast":null,"code":"import { userConstants } from '../_constants';\nimport { userService } from '../_services';\nimport { alertActions } from './alert.actions';\nimport { history } from '../_helpers';\nexport var userActions = {\n  login: login,\n  logout: logout\n};\n\nfunction login(username, password) {\n  return function (dispatch) {\n    dispatch(request({\n      username: username\n    }));\n    userService.login(username, password).then(function (user) {\n      console.log(user);\n\n      if (user.status === 200) {\n        dispatch(success(user.message));\n        history.push('/app/dashboard');\n      }\n    }, function (error) {\n      dispatch(failure(error.message));\n      dispatch(alertActions.error(error.message));\n    });\n  };\n\n  function request(data) {\n    return {\n      type: userConstants.LOGIN_REQUEST,\n      data: data\n    };\n  }\n\n  function success(data) {\n    return {\n      type: userConstants.LOGIN_SUCCESS,\n      data: data\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: userConstants.LOGIN_FAILURE,\n      error: error\n    };\n  }\n}\n\nfunction logout() {\n  userService.logout();\n  history.push('/');\n  return {\n    type: userConstants.LOGOUT\n  };\n}","map":{"version":3,"sources":["/Users/jarvis/dev/beecash-events/app/javascript/packs/_actions/user.actions.jsx"],"names":["userConstants","userService","alertActions","history","userActions","login","logout","username","password","dispatch","request","then","user","console","log","status","success","message","push","error","failure","data","type","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT"],"mappings":"AAAA,SAASA,aAAT,QAA8B,eAA9B;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAO,IAAMC,WAAW,GAAG;AACvBC,EAAAA,KAAK,EAALA,KADuB;AAEvBC,EAAAA,MAAM,EAANA;AAFuB,CAApB;;AAMP,SAASD,KAAT,CAAeE,QAAf,EAAyBC,QAAzB,EAAmC;AAC/B,SAAO,UAAAC,QAAQ,EAAI;AACfA,IAAAA,QAAQ,CAACC,OAAO,CAAC;AAAEH,MAAAA,QAAQ,EAARA;AAAF,KAAD,CAAR,CAAR;AAEAN,IAAAA,WAAW,CAACI,KAAZ,CAAkBE,QAAlB,EAA4BC,QAA5B,EACKG,IADL,CAEQ,UAAAC,IAAI,EAAI;AACJC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,UAAIA,IAAI,CAACG,MAAL,KAAgB,GAApB,EAAyB;AACrBN,QAAAA,QAAQ,CAACO,OAAO,CAACJ,IAAI,CAACK,OAAN,CAAR,CAAR;AACAd,QAAAA,OAAO,CAACe,IAAR,CAAa,gBAAb;AACH;AACJ,KART,EASQ,UAAAC,KAAK,EAAI;AACLV,MAAAA,QAAQ,CAACW,OAAO,CAACD,KAAK,CAACF,OAAP,CAAR,CAAR;AACAR,MAAAA,QAAQ,CAACP,YAAY,CAACiB,KAAb,CAAmBA,KAAK,CAACF,OAAzB,CAAD,CAAR;AACH,KAZT;AAcH,GAjBD;;AAmBA,WAASP,OAAT,CAAiBW,IAAjB,EAAuB;AAAE,WAAO;AAAEC,MAAAA,IAAI,EAAEtB,aAAa,CAACuB,aAAtB;AAAqCF,MAAAA,IAAI,EAAJA;AAArC,KAAP;AAAoD;;AAC7E,WAASL,OAAT,CAAiBK,IAAjB,EAAuB;AAAE,WAAO;AAAEC,MAAAA,IAAI,EAAEtB,aAAa,CAACwB,aAAtB;AAAqCH,MAAAA,IAAI,EAAJA;AAArC,KAAP;AAAoD;;AAC7E,WAASD,OAAT,CAAiBD,KAAjB,EAAwB;AAAE,WAAO;AAAEG,MAAAA,IAAI,EAAEtB,aAAa,CAACyB,aAAtB;AAAqCN,MAAAA,KAAK,EAALA;AAArC,KAAP;AAAqD;AAClF;;AAED,SAASb,MAAT,GAAkB;AACdL,EAAAA,WAAW,CAACK,MAAZ;AACAH,EAAAA,OAAO,CAACe,IAAR,CAAa,GAAb;AACA,SAAO;AAAEI,IAAAA,IAAI,EAAEtB,aAAa,CAAC0B;AAAtB,GAAP;AACH","sourcesContent":["import { userConstants } from '../_constants';\nimport { userService } from '../_services';\nimport { alertActions } from './alert.actions';\nimport { history } from '../_helpers';\n\nexport const userActions = {\n    login,\n    logout,\n\n};\n\nfunction login(username, password) {\n    return dispatch => {\n        dispatch(request({ username }));\n\n        userService.login(username, password)\n            .then(\n                user => {\n                    console.log(user)\n                    if (user.status === 200) {\n                        dispatch(success(user.message));\n                        history.push('/app/dashboard');\n                    }\n                },\n                error => {\n                    dispatch(failure(error.message));\n                    dispatch(alertActions.error(error.message));\n                }\n            );\n    };\n\n    function request(data) { return { type: userConstants.LOGIN_REQUEST, data } }\n    function success(data) { return { type: userConstants.LOGIN_SUCCESS, data } }\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\n}\n\nfunction logout() {\n    userService.logout();\n    history.push('/');\n    return { type: userConstants.LOGOUT };\n}"]},"metadata":{},"sourceType":"module"}